#!/usr/local/bin/zsh -u
if [[ "$(uname)" == "FreeBSD" ]]; then
    XARGS=gxargs
    FIND=gfind
fi

echo -n $PATH | 

# $_."/" -> PATH_DIR/ /home/krgr/bin だとfindが探してくれない
perl -wnl -e 'BEGIN{$/=":"}; /bin$/ and print $_."/"'  | 

# -i% で%が$XARGSから渡される引数
# -n が引数の最大数

$XARGS -n 1 -i% $FIND % -executable -type f -follow | 
sort -u | $XARGS -n 1 basename
